(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{176:function(e,t,a){},195:function(e,t,a){e.exports=a(220)},206:function(e,t,a){},207:function(e,t,a){},208:function(e,t,a){},209:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){},212:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},218:function(e,t,a){},219:function(e,t,a){},220:function(e,t,a){"use strict";a.r(t);var n=a(123),r=a(1),i=a.n(r),l=a(36),o=a.n(l),c=a(43),s=a(82),u=a(102),d=function(e){return{loggedIn:Boolean(e.session.id)}},m=Object(u.g)(Object(c.b)(d,null)(function(e){var t=e.component,a=e.path,n=e.loggedIn,r=e.exact;return i.a.createElement(u.b,{path:a,exact:r,render:function(e){return n?i.a.createElement(u.a,{to:"/"}):i.a.createElement(t,e)}})})),f=Object(u.g)(Object(c.b)(d,null)(function(e){var t=e.component,a=e.path,n=e.loggedIn,r=e.exact;return i.a.createElement(u.b,{path:a,exact:r,render:function(e){return n?i.a.createElement(t,e):i.a.createElement(u.a,{to:"/signup"})}})})),p=a(69),v=a.n(p),b=function(e){return{type:"RECEIVE_CURRENT_USER",currentUser:e}},h=function(e){return{type:"RECEIVE_SESSION_ERRORS",errors:e}},g=function(e){return function(t){return function(e){return v.a.ajax({method:"POST",url:"/api/v1/users",data:{user:e}})}(e).then(function(e){var a={id:e.id};window.localStorage.setItem("userData",JSON.stringify(a)),t(b(e))},function(e){return t(h(e.responseJSON))})}},E=function(e){return function(t){return function(e){return v.a.ajax({method:"POST",url:"/api/v1/session",data:{user:e}})}(e).then(function(e){var a={id:e.id};window.localStorage.setItem("userData",JSON.stringify(a)),t(b(e))},function(e){return t(h(e.responseJSON))})}},y=function(){return function(e){return v.a.ajax({method:"DELETE",url:"api/v1/session"}).then(function(){window.localStorage.clear(),e({type:"LOGOUT_CURRENT_USER"})})}},O=a(86),j=a(100),C=a(49),S=a(39),x=a(51),T=a(50),N=a(73),k=a(52),_=a(260),I=a(264),w=a(259),R=a(263),A=a(262),U=a(261),F=a(158),D=a.n(F),L=a(222),V=a(221),M=a(258),P=Object(V.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},errorText:{color:"red"}}});function B(e){var t=P(),a=Object.values(e.errors).some(function(e){return null!==e});return i.a.createElement(M.a,{component:"main",maxWidth:"xs"},i.a.createElement(w.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(_.a,{className:t.avatar},i.a.createElement(D.a,null)),i.a.createElement(L.a,{component:"h1",variant:"h5"},"Sign in"),i.a.createElement("form",{className:t.form},i.a.createElement(R.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,error:a,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),i.a.createElement(R.a,{variant:"outlined",margin:"normal",required:!0,error:a,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),i.a.createElement(L.a,{variant:"body2",display:"block",className:t.errorText},e.errors.signIn),i.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:e.formSubmit},"Sign In"),i.a.createElement(U.a,{container:!0},i.a.createElement(U.a,{item:!0},i.a.createElement(A.a,{href:"#",variant:"body2",onClick:e.clearErrors},"Don't have an account? Sign Up"))))))}var W=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).formSubmit=a.formSubmit.bind(Object(N.a)(a)),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"formSubmit",value:function(e){e.preventDefault();var t=Object(j.a)(document.querySelectorAll("input[required]")),a=Object(O.a)(t,2),n=a[0],r=a[1],i={email:n.value,password:r.value};this.props.login(i)}},{key:"render",value:function(){return i.a.createElement(B,{formSubmit:this.formSubmit,errors:this.props.errors,clearErrors:this.props.clearErrors})}}]),t}(i.a.Component),z=Object(c.b)(function(e){return{loggedIn:Boolean(e.session.id),errors:e.errors.session,formType:location.pathname.slice(1)}},function(e,t){return{formType:t.location.pathname.slice(1),login:function(t){return e(E(t))},clearErrors:function(){return e({type:"CLEAR_SESSION_ERRORS"})}}})(W),G=Object(V.a)(function(e){return{"@global":{body:{backgroundColor:e.palette.common.white}},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},errorText:{color:"red"}}});function q(e){var t=G(),a=Object.values(e.errors).some(function(e){return null!==e});return i.a.createElement(M.a,{component:"main",maxWidth:"xs"},i.a.createElement(w.a,null),i.a.createElement("div",{className:t.paper},i.a.createElement(_.a,{className:t.avatar},i.a.createElement(D.a,null)),i.a.createElement(L.a,{component:"h1",variant:"h5"},"Sign up"),i.a.createElement("form",{className:t.form,noValidate:!0},i.a.createElement(U.a,{container:!0,spacing:2},i.a.createElement(U.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,error:a,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0}),i.a.createElement(L.a,{variant:"body2",display:"block",className:t.errorText},e.errors.name)),i.a.createElement(U.a,{item:!0,xs:12,sm:6},i.a.createElement(R.a,{variant:"outlined",required:!0,error:a,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname"})),i.a.createElement(U.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"outlined",required:!0,error:a,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"}),i.a.createElement(L.a,{variant:"body2",display:"block",className:t.errorText},e.errors.email)),i.a.createElement(U.a,{item:!0,xs:12},i.a.createElement(R.a,{variant:"outlined",required:!0,error:a,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),i.a.createElement(L.a,{variant:"body2",display:"block",className:t.errorText},e.errors.password))),i.a.createElement(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,onClick:e.formSubmit},"Sign Up"),i.a.createElement(U.a,{container:!0,justify:"flex-end"},i.a.createElement(U.a,{item:!0},i.a.createElement(A.a,{href:"./#/login",variant:"body2",onClick:e.clearErrors},"Already have an account? Sign in"))))))}var J=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).formSubmit=a.formSubmit.bind(Object(N.a)(a)),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"formSubmit",value:function(e){e.preventDefault();var t=document.getElementById("firstName").value,a=document.getElementById("lastName").value,n=document.getElementById("email").value,r=document.getElementById("password").value,i={name:"".concat(t," ").concat(a),email:n,password:r};this.props.processForm(i)}},{key:"render",value:function(){return i.a.createElement(q,{formSubmit:this.formSubmit,errors:this.props.errors,clearErrors:this.props.clearErrors})}}]),t}(i.a.Component),K=Object(c.b)(function(e){return{loggedIn:Boolean(e.session.id),errors:e.errors.session,formType:location.pathname.slice(1)}},function(e,t){var a=t.location.pathname.slice(1),n="login"===a?login:g;return{processForm:function(t){return e(n(t))},formType:a,login:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(t){return e(login(t))}),clearErrors:function(){return e({type:"CLEAR_SESSION_ERRORS"})}}})(J),Y=function(e){return{type:"CLICK_MAIN_NAV",tab:e}},X=function(){return{type:"CLEAR_TITLE"}};a(206);function $(e){var t=e.selected?" nav-selected":"";return i.a.createElement("div",{className:"navigation-button".concat(t),onClick:e.handleTabClick},e.section)}var H=function(e){return function(t){return function(e){return v.a.ajax({method:"GET",url:"/api/v1/users/".concat(e,"/adversities")})}(e).then(function(e){t(function(e){return{type:"RECEIVE_ADVERSITIES",adversities:e}}(e))})}},Q=function(e){return function(t){return function(e){return v.a.ajax({method:"POST",url:"/api/v1/users/".concat(e.user_id,"/adversities"),data:{adversity:e}})}(e).then(function(e){return t(function(e){return{type:"RECEIVE_ADVERSITY",adversity:e}}(e))})}},Z=(a(207),Object(V.a)(function(e){return{advTitleField:{height:50,background:"#181818",boxShadow:"5px 5px 8px 0px rgba(0,0,0,0.3)",borderRadius:5,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#a9a9a9"},"&:hover fieldset":{borderColor:"#606060"},"&.Mui-focused fieldset":{borderColor:"darkGrey"}},color:"#a9a9a9"}}}));function ee(e){var t=Z();return i.a.createElement("div",{className:"adv-title"},i.a.createElement("div",{className:"adv-title-label"},"Adversity Experience Title..."),i.a.createElement(R.a,{className:t.advTitleField,InputProps:{className:t.advTitleField,"aria-label":"adversity-title"},placeholder:"Enter Title",value:e.title,margin:"normal",variant:"outlined",onChange:function(t){return e.handleTitle(t.target.value)}}))}a(208);var te=Object(V.a)(function(e){return{advStoryField:{height:70,width:410,background:"#181818",boxShadow:"5px 5px 8px 0px rgba(0,0,0,0.3)",borderRadius:5,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#a9a9a9"},"&:hover fieldset":{borderColor:"#606060"},"&.Mui-focused fieldset":{borderColor:"darkGrey"}},color:"#a9a9a9"}}});function ae(e){var t=te();return i.a.createElement("div",{className:"adv-story"},i.a.createElement("div",{className:"adv-story-label"},"The story is..."),i.a.createElement(R.a,{className:t.advStoryField,InputProps:{className:t.advStoryField,"aria-label":"adversity-story"},placeholder:"Enter Story",value:e.story,margin:"normal",variant:"outlined",multiline:!0,rows:"2",inputProps:{"aria-label":"adversity-story"},onChange:function(t){return e.handleStory({index:e.index,value:t.target.value})}}))}var ne=Object(V.a)(function(e){return{root:{"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#a9a9a9"},"&:hover fieldset":{borderColor:"#606060"},"&.Mui-focused fieldset":{borderColor:"darkGrey"}},color:"white",background:"#181818",boxShadow:"5px 5px 8px 0px rgba(0,0,0,0.3)"},input:{color:"#a9a9a9"}}}),re=a(265),ie=a(28),le=a(266),oe=(a(176),"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)"),ce=[{value:0},{value:33},{value:67},{value:100}],se=Object(ie.a)({root:{color:"#505050",height:2,padding:"15px 0"},thumb:{height:20,width:8,borderRadius:3,border:"1px solid black",backgroundColor:"#fff",boxShadow:oe,marginTop:-10,"&:focus,&:hover,&$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:oe}}},active:{},valueLabel:{left:"calc(-50% + 11px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{backgroundColor:"currentColor"}})(le.a);function ue(e){return i.a.createElement("div",{className:"slider"},i.a.createElement("div",{className:"slider-label"},"intensity"),i.a.createElement("div",{className:"slider-wrapper"},i.a.createElement("div",{className:"slider-container","data-order":e.order},i.a.createElement(se,{"aria-label":"feelings slider",value:e.sliderVal,marks:ce,valueLabelDisplay:"off",onChange:function(t,a){return e.handleChange({index:e.index,value:a})}}),i.a.createElement("div",{className:"slider-values"},i.a.createElement("div",{className:"slider-value"},"mildly"),i.a.createElement("div",{className:"slider-value"},"moderately"),i.a.createElement("div",{className:"slider-value"},"intensely")))))}a(209);var de=function(e){var t=e.feeling,a=t.feeling,n=t.sliderVal,r=ne();return i.a.createElement("div",{className:"feeling-row"},i.a.createElement(R.a,{className:r.root,placeholder:"Enter Feeling",value:a,margin:"normal",variant:"outlined",inputProps:{"aria-label":"adversity-feeling",className:r.input},onChange:function(t){e.handleFeelingTextChange({index:e.index,feeling:t.target.value})}}),i.a.createElement(ue,{sliderVal:n,handleChange:e.handleSliderChange,className:r.slider,index:e.index}))},me=function(e){function t(){return Object(C.a)(this,t),Object(x.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"adv-feeling-container"},i.a.createElement("div",{className:"adv-feeling"},i.a.createElement("div",{className:"feelings-tracker-label"},"I'm noticing I'm feeling..."),i.a.createElement("div",{className:"feeling-main"},i.a.createElement("div",{className:"feelings-container"},this.props.feelings.map(function(t,a){return i.a.createElement(de,{key:a,index:a,feeling:t,handleSliderChange:e.props.handleSliderChange,handleFeelingTextChange:e.props.handleFeelingTextChange})})))),i.a.createElement(re.a,{className:"add-feeling",onClick:this.props.handleAddSlider}))}}]),t}(i.a.Component),fe=function(e){function t(){return Object(C.a)(this,t),Object(x.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){var e=this.props,t=e.feelings,a=e.handleAddSlider,n=e.handleFeelingTextChange,r=e.handleSliderChange,l=e.handleStory,o=e.story;return i.a.createElement("div",null,i.a.createElement(ae,{story:o,handleStory:l}),i.a.createElement(me,{feelings:t,handleAddSlider:a,handleFeelingTextChange:n,handleSliderChange:r}))}}]),t}(i.a.Component),pe=[{value:0},{value:33},{value:67},{value:100}],ve=Object(ie.a)({root:{color:"#505050",height:2,padding:"15px 0"},thumb:{height:20,width:8,borderRadius:3,border:"1px solid black",backgroundColor:"#fff",boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)",marginTop:-10,"&:focus,&:hover,&$active":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.3),0 0 0 1px rgba(0,0,0,0.02)","@media (hover: none)":{boxShadow:"0 3px 1px rgba(0,0,0,0.1),0 4px 8px rgba(0,0,0,0.13),0 0 0 1px rgba(0,0,0,0.02)"}}},active:{},valueLabel:{left:"calc(-50% + 11px)",top:-22,"& *":{background:"transparent",color:"#000"}},track:{height:2},rail:{height:2,opacity:.5,backgroundColor:"#bfbfbf"},mark:{backgroundColor:"#bfbfbf",height:8,width:1,marginTop:-3},markActive:{backgroundColor:"currentColor"}})(le.a),be=function(e){var t=e.scale,a=e.value,n=e.handleChange,r=t.map(function(e){return i.a.createElement("div",{key:e,className:"slider-value"},e)});return i.a.createElement("div",{className:"slider"},i.a.createElement("div",{className:"slider-container"},i.a.createElement(ve,{value:a,marks:pe,valueLabelDisplay:"off",onChange:function(e,t){return n(t)}}),i.a.createElement("div",{className:"slider-values"},r)))},he=Object(c.b)(function(e){return{beliefs:e.forms.beliefForm}},function(e){return{updateForm:function(t){return e({type:"UPDATE_FORM",form:t})}}})(function(e){var t=Object(r.useState)(""),a=Object(O.a)(t,2),n=a[0],l=a[1],o=Object(r.useState)(0),c=Object(O.a)(o,2),s=c[0],u=c[1],d=Object(r.useState)(0),m=Object(O.a)(d,2),f=m[0],p=m[1],v=Object(r.useState)(0),b=Object(O.a)(v,2),h=b[0],g=b[1],E=Object(r.useState)(),y=Object(O.a)(E,2),j=y[0],C=y[1],S=Object(r.useState)(""),x=Object(O.a)(S,2),T=x[0],N=x[1],k=Object(r.useState)(0),_=Object(O.a)(k,2),I=_[0],w=_[1],R={form:"beliefsForm",beliefText:n,controlLevel:s,abilityLevel:f,needLevel:h,pressureLevel:I};Object(r.useEffect)(function(){e.updateForm(R)});var A={accept:function(){return null},clear:function(){return console.log("TEST")}},U=e.generateFormButtons(A);return i.a.createElement("div",{className:"beliefs"},U,i.a.createElement("div",{className:"module-label"},"Beliefs"),i.a.createElement("div",{className:"belief-text"},i.a.createElement("span",null,"Why does this feel like an adversity?"),i.a.createElement("textarea",{value:n,onChange:function(e){l(e.target.value)}})),i.a.createElement("div",{className:"beliefs-sliders"},i.a.createElement("div",{className:"belief"},i.a.createElement("div",{className:"description"},i.a.createElement("span",null,"My perceived sense of control (locus of control) in reflecting on this adversity is that..."),i.a.createElement("div",{className:"info"},"i")),i.a.createElement("div",{className:"belief-data"},i.a.createElement(be,{scale:["External","Internal"],value:s,handleChange:u}),i.a.createElement("div",{className:"slider-details"},i.a.createElement("ul",{className:"sub-detail"},i.a.createElement("li",null,"The outcome is out of my control"),i.a.createElement("li",null,"Things happen to me")),i.a.createElement("ul",{className:"sub-detail"},i.a.createElement("li",null,"The outcome is within my control"),i.a.createElement("li",null,"I make things happen"))))),i.a.createElement("div",{className:"belief"},i.a.createElement("div",{className:"description"},i.a.createElement("span",null,"My perceived sense of ability (self-efficacy) in reflecting on this adversity is that..."),i.a.createElement("div",{className:"info"},"i")),i.a.createElement("div",{className:"belief-data"},i.a.createElement(be,{scale:["Can't","Can"],value:f,handleChange:p}),i.a.createElement("div",{className:"slider-details"},i.a.createElement("ul",{className:"sub-detail"},i.a.createElement("li",null,"The adversity is too much for me"),i.a.createElement("li",null,"I'm not strong enough")),i.a.createElement("ul",{className:"sub-detail"},i.a.createElement("li",null,"It won't be easy but I can do this"),i.a.createElement("li",null,"I am strong enough")))))),i.a.createElement("div",{className:"beliefs-sliders"},i.a.createElement("div",{className:"belief"},i.a.createElement("div",{className:"description"},i.a.createElement("div",null,i.a.createElement("span",null,"I perceive my need..."),i.a.createElement("option",{value:j,onChange:function(e){C(e.target.value)}},"SELECT")),i.a.createElement("div",{className:"info"},"i")),i.a.createElement("div",{className:"description"},"is..."),i.a.createElement("div",{className:"belief-data"},i.a.createElement(be,{scale:["Unmet","Partially Met","Met"],value:h,handleChange:g})),i.a.createElement("div",{className:"description"},"because...",i.a.createElement("input",{value:T,onChange:function(e){N(e.target.value)}}))),i.a.createElement("div",{className:"belief"},i.a.createElement("div",{className:"description"},i.a.createElement("span",null,"My perceived sense of pressure..."),i.a.createElement("div",{className:"info"},"i")),i.a.createElement("div",{className:"belief-data"},i.a.createElement(be,{scale:["Manageable","Unsustainable","Breaking Point"],value:I,handleChange:w})))))}),ge=(a(210),function(e){return i.a.createElement("div",{className:"reflection"},i.a.createElement(he,{generateFormButtons:e.generateFormButtons}))}),Ee=function(){return i.a.createElement("div",null,"Retrospection Module Coming Soon")},ye=function(e,t){return v.a.ajax({method:"POST",url:"/api/v1/recognitions",data:{recognition:{adversity_id:e,story:t}}})},Oe=function(e){return v.a.ajax({method:"POST",url:"/api/v1/feelings",data:{feeling:e}})},je=(a(211),function(e){function t(){return Object(C.a)(this,t),Object(x.a)(this,Object(T.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(S.a)(t,[{key:"handleAccept",value:function(e){var t=this;e.preventDefault();var a=this.props,n=a.title,r=a.story,i=a.feelings,l=a.adding,o=a.currentUser.id;l?ye(this.props.adversity_id,r).then(function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=i[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var o=r.value,c=o.feeling,s=o.sliderVal;Oe({name:c,intensity:s,recognition_id:e.id})}}catch(u){a=!0,n=u}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}}).then(function(){return t.props.clearForm()}).then(function(){return t.props.history.push("/analyzer")}):this.props.createAdversity({title:n,user_id:o}).then(function(e){var t=e.adversity;return ye(t.id,r)}).then(function(e){var t=!0,a=!1,n=void 0;try{for(var r,l=i[Symbol.iterator]();!(t=(r=l.next()).done);t=!0){var o=r.value,c=o.feeling,s=o.sliderVal;Oe({name:c,intensity:s,recognition_id:e.id})}}catch(u){a=!0,n=u}finally{try{t||null==l.return||l.return()}finally{if(a)throw n}}}).then(function(){return t.props.clearForm()}).then(function(){return t.props.history.push("/analyzer")})}},{key:"generateFormButtons",value:function(e){var t=e.accept,a=e.clear;return i.a.createElement("div",{className:"accept-container"},i.a.createElement("div",{className:"accept-button",onClick:t},"accept"),i.a.createElement("div",{className:"clear-button",onClick:a},"clear"))}},{key:"generateInputFields",value:function(){var e=this.props,t=e.story,a=e.feelings,n=e.subtab;if("Recognition"===n){var r={accept:this.handleAccept.bind(this),clear:this.props.clearForm},l=this.generateFormButtons(r);return i.a.createElement("div",{className:"tracker-container"},l,i.a.createElement(fe,{handleStory:this.props.updateStory,story:t,feelings:a,handleAddSlider:this.props.addSlider,handleFeelingTextChange:this.props.updateFeelingText,handleSliderChange:this.props.updateFeelingValue}))}return"Reflection"===n?i.a.createElement("div",{className:"tracker-container"},i.a.createElement(ge,{generateFormButtons:this.generateFormButtons})):i.a.createElement(Ee,null)}},{key:"render",value:function(){var e=this.props,t=e.adding,a=e.title,n=e.updateTitle,r=this.generateInputFields();return i.a.createElement("div",{className:"tracker-container"},i.a.createElement(ee,{adding:t,title:a,handleTitle:n}),r)}}]),t}(i.a.Component)),Ce=Object(u.g)(Object(c.b)(function(e){var t=e.session,a=e.entities.users,n=e.ui,r=n.adversity_id,i=n.adding_recognition,l=n.recognition_form,o=n.subtab;return{currentUser:a[t.id],title:l.title,story:l.story,feelings:l.feelings,adding:i,adversity_id:r,subtab:o}},function(e){return{updateTitle:function(t){return e(function(e){return{type:"UPDATE_TITLE",title:e}}(t))},updateStory:function(t){return e(function(e){return{type:"UPDATE_STORY",story:e}}(t))},updateFeelingText:function(t){return e(function(e){return{type:"UPDATE_FEELING_TEXT",feeling:e}}(t))},updateFeelingValue:function(t){return e(function(e){return{type:"UPDATE_FEELING_VALUE",feeling:e}}(t))},addSlider:function(){return e({type:"ADD_SLIDER"})},createAdversity:function(t){return e(Q(t))},clearForm:function(){return e({type:"CLEAR_FORM"})}}})(je)),Se=(a(212),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).handleTabClick=a.handleTabClick.bind(Object(N.a)(a)),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"handleTabClick",value:function(e){var t=e.target.innerText,a=document.querySelector(".nav-selected");a&&a.classList.remove("nav-selected"),e.target.classList.add("nav-selected"),this.props.setSubTab(t)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("div",{className:"AdversityDataInput"},i.a.createElement("div",{className:"navigation"},i.a.createElement($,{section:"Recognition",handleTabClick:this.handleTabClick,selected:!0}),i.a.createElement($,{section:"Reflection",handleTabClick:this.handleTabClick}),i.a.createElement($,{section:"Retrospection",handleTabClick:this.handleTabClick})),this.props?i.a.createElement(Ce,null):null,i.a.createElement("div",{className:"logout-btn"},i.a.createElement("button",{onClick:this.props.logout},"LOG OUT"))))}}]),t}(i.a.Component)),xe=Object(u.g)(Object(c.b)(function(e){var t=e.session,a=e.entities.users,n=e.ui;return{currentUser:a[t.id],title:n.recognition_title,adding:n.adding_recognition,form:n.recognition_form,adversity_id:n.adversity_id}},function(e){return{logout:function(){return e(y())},clearTitle:function(){return e(X)},setSubTab:function(t){return e({type:"CLICK_SUB_NAV",tab:t})}}})(Se)),Te=function(e){return function(t){return(a=e,v.a.ajax({method:"GET",url:"/api/v1/users/".concat(a)})).then(function(e){return t(b(e))});var a}},Ne=function(e){if(e)return Object.keys(e).map(function(t){return e[t]})},ke=a(103),_e=a(128),Ie=new Date,we=Ie.getFullYear(),Re=Ie.getMonth(),Ae=function(){return{start:new Date(Date.UTC(we,Re)).valueOf(),end:new Date(Date.UTC(we,Re+1,0,23,59,59,999)).valueOf()}},Ue=a(213),Fe=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).state={redirect:!1},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"renderChart",value:function(){var e=ke.c("chartdiv",_e.e);this.chart=e;var t=this.props.adversities;e.data=t,e.background.fill="#282828",e.paddingRight=50;var a=e.yAxes.push(new _e.a);a.dataFields.category="title",a.renderer.grid.template.disabled=!0,a.renderer.line.strokeOpacity=1,a.renderer.line.strokeWidth=2,a.renderer.line.stroke=ke.b("#a9a9a9");var n=e.xAxes.push(new _e.c),r=Ae().start,i=Ae().end;n.min=r,n.max=i,n.strictMinMax=!0,a.renderer.labels.template.fill=ke.b("#a9a9a9"),a.renderer.labels.template.cursorOverStyle=ke.a.pointer,a.renderer.labels.template.events.on("hit",function(e){var a,n=e.target.currentText,r=!0,i=!1,l=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var s=o.value;if(s.title===n){a=s.adv_id;break}}}catch(u){i=!0,l=u}finally{try{r||null==c.return||c.return()}finally{if(i)throw l}}this.props.onTitleClick(n,a),this.setState({redirect:!0})},this),n.renderer.labels.template.fill=ke.b("#a9a9a9"),n.renderer.grid.template.stroke=ke.b("#a9a9a9"),n.renderer.line.strokeOpacity=1,n.renderer.line.strokeWidth=2,n.renderer.line.stroke=ke.b("#a9a9a9");var l=!0,o=!1,c=void 0;try{for(var s,u=t[Symbol.iterator]();!(l=(s=u.next()).done);l=!0){var d=s.value,m=[],f=!0,p=!1,v=void 0;try{for(var b,h=d.recognitions[Symbol.iterator]();!(f=(b=h.next()).done);f=!0){var g=b.value,E={title:d.title,recognition:g};m.push(E)}}catch(O){p=!0,v=O}finally{try{f||null==h.return||h.return()}finally{if(p)throw v}}var y=e.series.push(new _e.d);y.name="Adversity",y.dataFields.dateX="recognition",y.dataFields.categoryY="title",y.strokeWidth=3,y.sequencedInterpolation=!0,y.bullets.create(_e.b),y.data=m}}catch(O){o=!0,c=O}finally{try{l||null==u.return||u.return()}finally{if(o)throw c}}}},{key:"componentDidMount",value:function(){this.renderChart()}},{key:"componentDidUpdate",value:function(e){Ue(e.adversities,this.props.adversities)||this.renderChart()}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){return this.state.redirect?(this.chart.dispose(),i.a.createElement(u.a,{to:"/input"})):i.a.createElement("div",{id:"chartdiv",style:{width:"940px",height:"500px"}})}}]),t}(i.a.Component);a(216);function De(){return i.a.createElement("div",{className:"placeholder"},"Click on the ",i.a.createElement("strong",null,"\xa0Adversity Data Input\xa0")," tab to log your first adversity.")}var Le=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).state={loadChart:!1},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchAdversities(this.props.currentUser.id)}},{key:"render",value:function(){var e=this.props.adversities,t=[],a=!0,n=!1,r=void 0;try{for(var l,o=e[Symbol.iterator]();!(a=(l=o.next()).done);a=!0){var c=l.value,s=[],u=!0,d=!1,m=void 0;try{for(var f,p=c.recognitions[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var v=f.value;s.push(v.created_at)}}catch(h){d=!0,m=h}finally{try{u||null==p.return||p.return()}finally{if(d)throw m}}var b={adv_id:c.id,title:c.title,recognitions:s};t.push(b)}}catch(h){n=!0,r=h}finally{try{a||null==o.return||o.return()}finally{if(n)throw r}}return t.length>0?i.a.createElement(Fe,{adversities:t,onTitleClick:this.props.setTitle}):i.a.createElement(De,null)}}]),t}(i.a.Component),Ve=Object(u.g)(Object(c.b)(function(e){var t=e.session,a=e.entities,n=a.users,r=a.adversities;return{currentUser:n[t.id],adversities:Ne(r)}},function(e){return{fetchAdversities:function(t){return e(H(t))},setTitle:function(t,a){return e(function(e,t){return function(a){a({type:"CLICK_TITLE",payload:{title:e,id:t}}),a(Y("AdversityDataInput"))}}(t,a))}}})(Le)),Me=function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).state={adversities:{}},a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.currentUser.id)}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement("h1",null,"Adversity Data for ",this.props.currentUser.name," - ",Ie.toLocaleString("default",{month:"long",year:"numeric"})),i.a.createElement("div",{className:"chart-container"},i.a.createElement(Ve,null)))}}]),t}(i.a.Component),Pe=Object(u.g)(Object(c.b)(function(e){var t=e.session;return{currentUser:e.entities.users[t.id]}},function(e){return{getUser:function(t){return e(Te(t))}}})(Me)),Be=(a(217),function(e){function t(e){var a;return Object(C.a)(this,t),(a=Object(x.a)(this,Object(T.a)(t).call(this,e))).displayComponent=function(){var e=a.props.location.pathname;return"/input"===e||"/"===e?i.a.createElement(xe,null):i.a.createElement(Pe,null)},a.handleTabClick=a.handleTabClick.bind(Object(N.a)(a)),a}return Object(k.a)(t,e),Object(S.a)(t,[{key:"handleTabClick",value:function(e){function t(t,a){a(t);var n=document.querySelector(".nav-selected");n&&n.classList.remove("nav-selected"),e.target.classList.add("nav-selected")}var a=e.target.innerText,n=this.props.history.location.pathname;"Adversity Data Input"===a?"/input"!==n&&(this.props.history.push("/input"),t(a,this.props.setMainTab)):"Adversity Analyzer"===a&&"/analyzer"!==n&&(this.props.history.push("/analyzer"),t(a,this.props.setMainTab))}},{key:"render",value:function(){return i.a.createElement("div",{className:"main-container"},i.a.createElement("div",{className:"main-navigation"},i.a.createElement($,{section:"Adversity Data Input",handleTabClick:this.handleTabClick,selected:!0}),i.a.createElement($,{section:"Adversity Analyzer",handleTabClick:this.handleTabClick})),this.displayComponent())}}]),t}(i.a.Component)),We=Object(u.g)(Object(c.b)(function(e){var t=e.session,a=e.entities.users,n=e.ui;return{currentUser:a[t.id],currentTab:n.tab}},function(e){return{logout:function(){return e(y())},setMainTab:function(t){return e(Y(t))}}})(Be)),ze=(a(218),function(){return i.a.createElement("div",null,i.a.createElement(u.d,null,i.a.createElement(m,{exact:!0,path:"/login",component:z}),i.a.createElement(m,{exact:!0,path:"/signup",component:K}),i.a.createElement(f,{path:"/input",component:We}),i.a.createElement(f,{path:"/analyzer",component:We}),i.a.createElement(f,{exact:!0,path:"/",component:We})))}),Ge=function(e){var t=e.store;return i.a.createElement(c.a,{store:t},i.a.createElement(s.a,null,i.a.createElement(ze,null)))},qe=a(81),Je=a(184),Ke=a(185),Ye=a.n(Ke),Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_CURRENT_USER":return Object.assign({},e,Object(n.a)({},t.currentUser.id,t.currentUser));case"LOGOUT_CURRENT_USER":return[];default:return e}},$e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_ADVERSITIES":return t.adversities;case"RECEIVE_ADVERSITY":return[].concat(Object(j.a)(Array.from(e)),[t.adversity]);default:return e}},He=Object(qe.c)({users:Xe,adversities:$e}),Qe=Object.freeze({id:null}),Ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_CURRENT_USER":return Object.assign({},e,{id:t.currentUser.id});case"LOGOUT_CURRENT_USER":return Qe;default:return e}},et=Object(qe.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"RECEIVE_SESSION_ERRORS":var a=t.errors,n={name:null,email:null,password:null};return a.includes("Name can't be blank")&&(n.name="Name can't be blank"),a.includes("Email Invalid email")&&(n.email="Invalid email"),a.includes("Email can't be blank")&&(n.email="Email can't be blank"),a.includes("Password is too short (minimum is 6 characters)")&&(n.password="Password is too short (minimum is 6 characters)"),a.includes("Invalid email/password combination")&&(n.signIn="Invalid email/password combination"),n;case"RECEIVE_CURRENT_USER":case"CLEAR_SESSION_ERRORS":return[];default:return e}}}),tt={tab:"Adversity Data Input",subtab:"Recognition",recognition_title:"",adding_recognition:!1,adversity_id:null,recognition_form:{title:"",story:"",feelings:[{feeling:"",sliderVal:0}]}},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;Object.freeze(e);var a,n=e.recognition_form,r=n.feelings,i=Object(j.a)(r);switch(t.type){case"CLICK_MAIN_NAV":return Object.assign({},e,{tab:t.tab});case"CLICK_SUB_NAV":return Object.assign({},e,{subtab:t.tab});case"CLICK_TITLE":return a=Object.assign({},n,{title:t.payload.title}),Object.assign({},e,{recognition_form:a,adding_recognition:!0,adversity_id:t.payload.id});case"CLEAR_TITLE":return Object.assign({},e,{recognition_title:"",adding_recognition:!1,adversity_id:null});case"UPDATE_TITLE":return a=Object.assign({},n,{title:t.title}),Object.assign({},e,{recognition_form:a});case"UPDATE_STORY":return a=Object.assign({},n,{story:t.story.value}),Object.assign({},e,{recognition_form:a});case"UPDATE_FEELING_TEXT":return i[t.feeling.index].feeling=t.feeling.feeling,a=Object.assign({},n,{feelings:i}),Object.assign({},e,{recognition_form:a});case"UPDATE_FEELING_VALUE":return i[t.feeling.index].sliderVal=t.feeling.value,a=Object.assign({},n,{feelings:i}),Object.assign({},e,{recognition_form:a});case"ADD_SLIDER":return i.push({feeling:"",sliderVal:0}),a=Object.assign({},n,{feelings:i}),Object.assign({},e,{recognition_form:a});case"CLEAR_FORM":return a={title:"",story:"",feelings:[{feeling:"",sliderVal:0}]},Object.assign({},e,{adversity_id:null,adding_recognition:!1,recognition_form:a});default:return e}},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(Object.freeze(e),t.type){case"UPDATE_FORM":return Object.assign({},e,Object(n.a)({},t.form.form,t.form));default:return e}},rt=Object(qe.c)({entities:He,forms:nt,session:Ze,ui:at,errors:et}),it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(qe.d)(rt,e,Object(qe.a)(Je.a,Ye.a))};a(219);document.addEventListener("DOMContentLoaded",function(){var e,t=document.getElementById("root");v.a.ajax({method:"GET",url:"api/v1/checkSession"}).then(function(){var a=JSON.parse(window.localStorage.getItem("userData")),r={session:{id:a.id},entities:{users:Object(n.a)({},a.id,a)}};e=it(r),o.a.render(i.a.createElement(Ge,{store:e}),t)}).catch(function(){window.localStorage.clear(),e=it(),o.a.render(i.a.createElement(Ge,{store:e}),t)})})}},[[195,1,3]]]);
//# sourceMappingURL=main.0132ef0d.chunk.js.map